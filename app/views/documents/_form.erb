<%= form_for document, :html => { :multipart => true } do |form| %>
    <%= form.hidden_field :user_id, value: current_user_id %>

    <div class="field">
      <%= form.label :title %><br>
      <%= form.text_field :title %>
    </div>

    <br />

    <div class="field">
      <%= radio_button_tag('document[use_editor]', 'true') %>
      <%= label_tag(:use_editor_true, "Create new document") %>
      <%= radio_button_tag('document[use_editor]', 'false') %>
      <%= label_tag(:use_editor_false, "Upload existing document") %>
    </div>

    <% if @edit %>
        <% if @document.content.blank? %>
            <div class="field">
              <%= form.label :doc %><br>
              <%= form.file_field :doc %>
            </div>
        <% else %>
            <div class="field">
              <%= form.text_area :content, :class => "tinymce", :rows => 10, :cols => 120 %>
              <%= tinymce %>
            </div>
        <% end %>
        <br />
    <% else %>
        <div class="field" id="document_upload_field">
          <%= form.label :doc %><br>
          <%= form.file_field :doc %>
        </div>
        <br />
        <div class="field" id="document_editor_field">
          <%= form.text_area :content, :class => "tinymce", :rows => 10, :cols => 120 %>
          <%= tinymce %>
        </div>
        <br />
    <% end %>

    <div class="field">
      <h2>Select users to review the document</h2>
      <%= form.select(:reviews, users, {prompt: 'Select any amount of users'}, { :multiple => true, :size => 20 } ) %>
      <h2>Select users to approve the document</h2>
      <%= form.select(:approvals, users, {prompt: 'Select any amount of users'}, { :multiple => true, :size => 20 } ) %>
    </div>

    <div class="field">
      <%= form.label :document_type_id %><br>
      <%= form.select(:document_type_id, document_types, {:multiple => true, :size => 20}) %>
    </div>

    <br />

    <div class="actions">
      <%= form.submit %>
    </div>
<% end %>
